/*!
 * deselect.js v0.1.0 (https://github.com/jsenn/deselect.js)
 * Licensed under the GPL (https://github.com/jsenn/deselect.js/blob/master/LICENSE)
 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){!function(){"use strict";function b(a){a.style.display="none",a.innerHTML=""}function c(a,c,d,e,f){var g;b(a),g=e?h.search(e,d):h.map(function(a){return{object:a,result:a.textContent,index:0}},d),0!==g.length&&(h.forEach(g,function(d){var g=window.document.createElement("li");g.className=f.dropdownItem["class"],g.innerHTML=h.highlightString(d.result,d.index,d.index+e.length,f.highlight),g.addEventListener("click",function(){d.object.selected=!0,c.value=this.textContent,b(a)},!1),a.appendChild(g)}),a.style.display="block")}function d(a){a.style.border="1px solid red"}function e(a){a.style.border="none"}function f(a){a.click()}function g(a,b){var c;return void 0===b&&(b=100),function(){void 0===c&&window.clearTimeout(c),c=window.setTimeout(a,b)}}var h=a("./util");window.deselect=function(a,i){var j,k,l,m,n,o,p;j={container:{id:"","class":"deselect--wrapper"},input:{id:"",type:"text",value:"",placeholder:"","class":"deselect--search-box"},dropdown:{id:"","class":"deselect--dropdown",maxHeight:"10em",overflowX:"hidden",overflowY:"scroll",zIndex:100,pixelsFromInput:0},dropdownContainer:{id:"","class":"deselect--dropdown-container"},dropdownItem:{"class":"deselect--dropdown-item"},highlight:{"class":"deselect--highlight"}},void 0!==i&&h.merge(j,i),k=window.document.getElementById(a),l=window.document.createElement("input"),l.id=j.input.id,l.type=j.input.type,l.className=j.input["class"],l.value=j.input.value,l.placeholder=j.input.placeholder,l.disabled=k.disabled,l.required=k.required,l.style.width="100%",m=window.document.createElement("ul"),m.id=j.dropdown.id,m.className=j.dropdown["class"],m.style.maxHeight=j.dropdown.maxHeight,m.style.overflowX=j.dropdown.overflowX,m.style.overflowY=j.dropdown.overflowY,m.style.listStyle="none",m.style.padding=0,m.style.marginTop=j.dropdown.pixelsFromInput,m.style.width="100%",m.style.position="absolute",m.style.zIndex=j.dropdown.zIndex,m.style.display="none",n=window.document.createElement("div"),n.id=j.dropdownContainer.id,n.className=j.dropdownContainer["class"],n.style.width="100%",n.style.position="relative",o=window.document.createElement("div"),o.id=j.container.id,o.className=j.container["class"],o.appendChild(l),n.appendChild(m),o.appendChild(n),k.style.display="none",k.parentNode.insertBefore(o,k.nextSibling),o.addEventListener("keydown",h.keyNavigator(function(){var a=[l].concat([].slice.call(m.children));return a},function(a){console.log("focussing "+a.outerHTML),a!==l&&d(a)},function(a){console.log("unfocussing "+a.outerHTML),a!==l&&e(a)},function(a){console.log("selecting "+a.outerHTML),a!==l&&f(a)}),!1),l.addEventListener("keyup",g(function(){c(m,l,k.children,l.value,j)}),!1),l.addEventListener("focus",function(){c(m,l,k.children,l.value,j)},!1),p=null,window.document.addEventListener("mousedown",function(a){p=a.target},!1),window.document.addEventListener("mouseup",function(){p=null},!1),l.addEventListener("blur",function(){var a=null!==p&&h.hasAncestor(m,p);a||b(m)},!1)}}()},{"./util":2}],2:[function(a,b){b.exports=function(){"use strict";var a={};return a.forEach=function(a,b){for(var c=0;c<a.length;c++)b(a[c])},a.map=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(a(b[d]));return c},a.merge=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"==typeof b[c]&&"object"==typeof a[c]&&null!==b[c]&&null!==a[c]?merge(a[c],b[c]):a[c]=b[c])},a.hasAncestor=function(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1},a.search=function(b,c){var d=[];return a.forEach(c,function(a){var c=a.textContent,e=c.indexOf(b);-1!==e&&d.push({object:a,result:c,index:e})}),d.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:a.result.length<b.result.length?-1:a.result.length>b.result.length?1:0})},a.highlightString=function(a,b,c,d){if(b===c)return a;var e=window.document.createElement("span");return e.className=d["class"],e.textContent=a.substring(b,c),a.substring(0,b)+e.outerHTML+a.substring(c)},a.keyNavigator=function(a,b,c,d){var e=0,f={enter:13,space:32,left:37,up:38,right:39,down:40};return function(g){var h;if(g.altKey||g.ctrlKey||g.shiftKey)return!0;if(h=a(),0===h.length)return!0;if(1===h.length)return e=0,!0;switch(g.keyCode){case f.space:case f.enter:return d(h[e]),g.stopPropagation(),!1;case f.left:case f.up:return c(h[e]),e=(h.length+e-1)%h.length,b(h[e]),g.preventDefault(),g.stopPropagation(),!1;case f.right:case f.down:return c(h[e]),e=(h.length+e+1)%h.length,b(h[e]),g.preventDefault(),g.stopPropagation(),!1;default:return!0}}},a}()},{}]},{},[1,2]);