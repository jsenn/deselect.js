/*! https://github.com/jsenn/deselect.js v0.1.0 2015-02-28 */
!function(){"use strict";function a(a,b){for(var c=0;c<a.length;c++)b(a[c])}function b(a,b){for(var c=[],d=0;d<b.length;d++)c.push(a(b[d]));return c}function c(a,b){for(var d in b)b.hasOwnProperty(d)&&("object"==typeof b[d]&&"object"==typeof a[d]&&null!==b[d]&&null!==a[d]?c(a[d],b[d]):a[d]=b[d])}function d(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function e(b,c){var d=[];return a(c,function(a){var c=a.textContent,e=c.indexOf(b);-1!==e&&d.push({object:a,result:c,index:e})}),d.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:a.result.length<b.result.length?-1:a.result.length>b.result.length?1:0})}function f(a,b,c,d){if(b===c)return a;var e=window.document.createElement("span");return e.className=d["class"],e.textContent=a.substring(b,c),a.substring(0,b)+e.outerHTML+a.substring(c)}function g(a){a.style.display="none",a.innerHTML=""}function h(c,d,h,i,j){var k;g(c),k=i?e(i,h):b(function(a){return{object:a,result:a.textContent,index:0}},h),0!==k.length&&(a(k,function(a){var b=window.document.createElement("li");b.className=j.dropdownItem["class"],b.innerHTML=f(a.result,a.index,a.index+i.length,j.highlight),b.addEventListener("click",function(){a.object.selected=!0,d.value=this.textContent,g(c)},!1),c.appendChild(b)}),c.style.display="block")}function i(a,b){var c;return void 0===b&&(b=100),function(){void 0===c&&window.clearTimeout(c),c=window.setTimeout(a,b)}}window.deselect=function(a,b){var e,f,j,k,l,m,n;e={container:{id:"","class":"deselect--wrapper"},input:{id:"",type:"text",value:"",placeholder:"","class":"deselect--search-box"},dropdown:{id:"","class":"deselect--dropdown",maxHeight:"10em",overflowX:"hidden",overflowY:"scroll",zIndex:100,pixelsFromInput:0},dropdownContainer:{id:"","class":"deselect--dropdown-container"},dropdownItem:{"class":"deselect--dropdown-item"},highlight:{"class":"deselect--highlight"}},void 0!==b&&c(e,b),f=window.document.getElementById(a),j=window.document.createElement("input"),j.id=e.input.id,j.type=e.input.type,j.className=e.input["class"],j.value=e.input.value,j.placeholder=e.input.placeholder,j.disabled=f.disabled,j.required=f.required,j.style.width="100%",k=window.document.createElement("ul"),k.id=e.dropdown.id,k.className=e.dropdown["class"],k.style.maxHeight=e.dropdown.maxHeight,k.style.overflowX=e.dropdown.overflowX,k.style.overflowY=e.dropdown.overflowY,k.style.listStyle="none",k.style.padding=0,k.style.marginTop=e.dropdown.pixelsFromInput,k.style.width="100%",k.style.position="absolute",k.style.zIndex=e.dropdown.zIndex,k.style.display="none",l=window.document.createElement("div"),l.id=e.dropdownContainer.id,l.className=e.dropdownContainer["class"],l.style.width="100%",l.style.position="relative",m=window.document.createElement("div"),m.id=e.container.id,m.className=e.container["class"],m.appendChild(j),l.appendChild(k),m.appendChild(l),f.style.display="none",f.parentNode.insertBefore(m,f.nextSibling),j.addEventListener("keyup",i(function(){h(k,j,f.children,j.value,e)}),!1),j.addEventListener("focus",function(){h(k,j,f.children,j.value,e)},!1),n=null,window.document.addEventListener("mousedown",function(a){n=a.target},!1),window.document.addEventListener("mouseup",function(){n=null},!1),j.addEventListener("blur",function(){var a=null!==n&&d(k,n);a||g(k)},!1)}}();